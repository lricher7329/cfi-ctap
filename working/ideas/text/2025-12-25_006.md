---
id: 2025-12-25_006
title: "BioBank software modernization: caTissue migration, dynamic consent, and TRE integration"
type: text
status: new
priority: high
created: 2025-12-25T02:00:00Z
links:
  documents:
    - suites/suite_2_living_biorepository.md
    - background/CBRF2_2023_00132_UAlberta_Biorepository_Summary.md
    - background/CBRF2_2023_00132_Data_Infrastructure_Summary.md
    - background/UAlberta_AWS_TRE_Assessment.md
  objectives: [4, 5, 6]
  suites: [2, 4]
tags:
  - BioBank
  - caTissue
  - OpenSpecimen
  - LIMS
  - dynamic-consent
  - FHIR
  - Connect-Care
  - AWS-TRE
  - remnant-samples
  - ISO-20387
  - ISBER
---

# Idea

Knowing that the BioBank software is based on NCI caTissue platform, we need deep research on the best design and architecture to upgrade BioBank to modern standards, renewable consent, connection to health data, and creation of a new repository based on remnant samples as well as other features already described. The B-PREPARED proposal (CBRF2_2023_00132) provides context on current infrastructure. This idea requires deep research on best standards for the BioBank data platform and architecture, including how the existing AWS TRE infrastructure will be leveraged.

---

## Research Conducted

### 1. NCI caTissue Platform Status

**Background:**
- NCI caTissue was developed by the NCI Cancer Bioinformatics Grid (caBIG) initiative
- NCI stopped funding caTissue development in 2009
- Current BioBank at UAlberta is based on caTissue with local customizations
- Java-based client-server architecture with Oracle database

**Key Limitation:** The caTissue codebase is legacy and no longer actively maintained. Migration to a modern platform is recommended for long-term sustainability.

---

### 2. OpenSpecimen: Primary Migration Path

**Source:** [OpenSpecimen](https://www.openspecimen.org/)

OpenSpecimen is the recognized successor to caTissue, developed by the same core team after NCI funding ended.

| Attribute | Detail |
|-----------|--------|
| **Developer** | Krishagni Solutions (original caTissue team) |
| **License** | Open source (community edition) + Enterprise |
| **Architecture** | 100% REST API, plugin-extensible |
| **Deployment** | Cloud or on-premise |
| **Active Users** | 100+ biobanks worldwide |

#### Key Features Relevant to CTAP

| Feature | caTissue | OpenSpecimen | CTAP Benefit |
|---------|----------|--------------|--------------|
| REST API | Limited | 100% coverage | Integration with TRE, Connect Care |
| Dynamic Consent | No | Plugin available | Renewable consent workflows |
| FHIR Integration | No | Available | EHR linkage |
| Plugin Architecture | No | Yes | Custom extensions |
| Cloud Deployment | Difficult | Native | AWS TRE integration |
| Mobile Access | No | Yes | Clinic workflow support |

#### OpenSpecimen Enterprise Features

- Workflow-based specimen collection
- Automated aliquoting and derivative tracking
- Query/reporting engine
- Audit trails (21 CFR Part 11 ready)
- Role-based access control
- Multi-site support (federated model)

#### Canadian Exemplar: University of British Columbia

**Source:** [UBC ResTech Biobanking](https://restech.med.ubc.ca/our-services/biobanking/)

UBC Faculty of Medicine uses OpenSpecimen as their institutional biobanking platform:

| Attribute | Detail |
|-----------|--------|
| **Platform** | OpenSpecimen (hosted at os.med.ubc.ca) |
| **Compliance** | 21 CFR Part 11 compliant |
| **Privacy** | UBC Privacy Impact Assessment verified |
| **Cost** | Free for Faculty of Medicine users |
| **Integrations** | REDCap, labeling software |

**UBC Use Cases:**
- Single research project biobanks
- Multi-tenant projects with controlled database access
- Major repository biobanks with specimen catalogs for distribution

**Training & Support:**
- OpenSpecimen 101 course (70-90 minutes virtual)
- Specialized modules for custom forms, distribution protocols, catalog management
- Dedicated Data Management team support

**Relevance to UAlberta:** UBC's successful deployment demonstrates OpenSpecimen viability in Canadian academic health research context. Their multi-tenant model and REDCap integration align with CTAP requirements. UBC could serve as a reference site for implementation planning.

---

### 3. Biobank LIMS Standards and Compliance

#### ISO 20387:2018 - Biotechnology: Biobanking

**Key Requirements:**

| Section | Requirement | Implementation |
|---------|-------------|----------------|
| 4.4 | Document control | Version-controlled procedures |
| 5.3 | Sample traceability | Full chain of custody |
| 5.4 | Equipment management | Calibration, maintenance logs |
| 6.1 | Personnel competency | Training records, qualifications |
| 7.1 | Sample handling | SOPs for collection, processing, storage |
| 7.4 | Storage monitoring | Continuous temperature monitoring |
| 8.1 | Information management | Secure LIMS, backup, recovery |

#### ISBER Best Practices (4th Edition)

International Society for Biological and Environmental Repositories guidelines:

- Sample labeling (2D barcoding recommended)
- Container tracking (rack, shelf, freezer location)
- Environmental monitoring (-80°C, LN2)
- Quality management system
- Participant consent management
- Data sharing agreements

#### FDA 21 CFR Part 11

For clinical trial samples and regulatory submissions:

- Electronic signatures
- Audit trails (who, what, when)
- System access controls
- Data integrity validation
- Backup and recovery procedures

**BioBank Current Status:** Already 21 CFR Part 11 compliant per B-PREPARED proposal.

---

### 4. Dynamic/Renewable Consent Architecture

#### Dwarna Platform (Malta)

**Source:** [Dwarna Dynamic Consent](https://github.com/dwarna/dwarna)

| Component | Technology | Function |
|-----------|------------|----------|
| **Blockchain** | Hyperledger Fabric | Immutable consent record |
| **Frontend** | Web/mobile app | Participant consent interface |
| **Backend** | Node.js | Consent workflow engine |
| **Integration** | REST API | LIMS/biobank connection |

**Key Principles:**
- Participant can modify consent at any time
- Consent changes propagate to downstream systems
- Full audit trail of consent history
- Granular consent options (research type, data sharing)

#### CloudLIMS Dynamic Consent

Commercial LIMS platforms now offer integrated dynamic consent:

- Consent workflow builder
- Email/SMS notifications for consent renewal
- Participant portal for self-service
- Integration with electronic consent (eConsent) platforms

#### LLM-Assisted Consent (from B-PREPARED)

The Data Infrastructure proposal includes Llama 2 integration for:

- Natural language querying of consent status
- Automated consent expiry notifications
- Consent clause interpretation
- Multi-language support

---

### 5. Connect Care FHIR Integration

#### Current State

- Connect Care is Alberta's Epic-based provincial EMR
- Epic supports FHIR R4 API
- UAlberta has Connect Care integration experience

#### Integration Architecture

```
Connect Care (Epic)
       |
   FHIR R4 API
       |
   Integration Layer (CTAP)
       |
   ├── OpenSpecimen/BioBank
   │   (specimen metadata, participant demographics)
   │
   └── AWS TRE Data Lake
       (clinical phenotypes, outcomes)
```

#### Key FHIR Resources for Biobanking

| Resource | Use Case |
|----------|----------|
| Patient | Participant demographics (de-identified in TRE) |
| Specimen | Sample metadata, collection details |
| Observation | Lab results, clinical measurements |
| Condition | Diagnoses, phenotypes |
| Procedure | Surgical procedures, sample collection context |
| Consent | Consent status, scope |

#### Implementation Approach

1. **Epic App Orchard** - Develop or procure certified integration app
2. **Bulk FHIR Export** - Nightly batch for outcome annotation
3. **SMART on FHIR** - Real-time consent verification at collection
4. **CDS Hooks** - Clinical decision support for sample collection triggers

---

### 6. Remnant Specimen Repository Architecture

#### Concept

Create new repository for clinical remnant samples (leftover specimens from clinical care):

| Attribute | Prospective Biobank | Remnant Repository |
|-----------|---------------------|-------------------|
| **Consent** | Explicit research consent | Broad consent / waiver |
| **Collection** | Dedicated research protocol | Clinical workflow byproduct |
| **Annotation** | Curated phenotype | EHR-derived phenotype |
| **Volume** | Limited by recruitment | Large (all clinical samples) |
| **Cost** | High (per-participant) | Low (incremental) |

#### Governance Considerations

- Alberta Health Information Act (HIA) compliance
- Research Ethics Board approval for broad use
- Participant notification / opt-out process
- Data linkage agreements with AHS

#### Technical Requirements

| Component | Requirement |
|-----------|-------------|
| **Sample Tracking** | Link to clinical accession number |
| **EHR Linkage** | Automated phenotype extraction |
| **Consent Tracking** | Opt-out registry integration |
| **Storage** | Extend cold storage capacity |
| **Retrieval** | Automated sample retrieval (robotics) |

---

### 7. AWS TRE Integration Architecture

Based on the UAlberta AWS TRE Assessment and UK Biobank RAP model.

#### Three-Zone Architecture

![UAlberta AWS TRE Architecture](../../background/aws_tre_diagram.png)

| Zone | Function | BioBank Role |
|------|----------|--------------|
| **Zone 1: Identifiable** | Custodian-controlled, identifiable data | OpenSpecimen primary database |
| **Zone 2: Controlled** | De-identification, linkage | Sample-to-phenotype linkage |
| **Zone 3: Research** | De-identified analytics | Researcher access to linked datasets |

#### UK Biobank Research Analysis Platform (RAP) Model

UK Biobank uses AWS + DNAnexus for their RAP:

| Component | UK Biobank | UAlberta Adaptation |
|-----------|------------|---------------------|
| **Storage** | 30 PB on AWS S3 | S3-backed data lake |
| **Compute** | DNAnexus platform | SageMaker + EC2 |
| **Genomics** | 500K WGS | Multi-omics integration |
| **Access** | Researcher Workbench | TRE Project Workspaces |
| **Governance** | Access Committee | Data Access Committee |

#### BioBank ↔ TRE Integration Points

```
┌─────────────────────────────────────────────────────────────┐
│                    Zone 1: Identifiable                      │
│  ┌─────────────────┐        ┌─────────────────────────────┐ │
│  │   OpenSpecimen  │◄──────►│  Connect Care (Epic/FHIR)   │ │
│  │   (BioBank 2.0) │        └─────────────────────────────┘ │
│  └────────┬────────┘                                        │
└───────────┼─────────────────────────────────────────────────┘
            │ Participant ID + Sample ID
            ▼
┌───────────────────────────────────────────────────────────┐
│                   Zone 2: Controlled                       │
│  ┌─────────────────────────────────────────────────────┐  │
│  │          De-identification & Linkage Engine          │  │
│  │   - ARX/OHDSI anonymization                          │  │
│  │   - OMOP CDM transformation                          │  │
│  │   - Sample-phenotype linkage                         │  │
│  └─────────────────────────────────────────────────────┘  │
└───────────────────────────────────────────────────────────┘
            │ Pseudonymized ID + Linked Data
            ▼
┌───────────────────────────────────────────────────────────┐
│                   Zone 3: Research                         │
│  ┌──────────────┐  ┌──────────────┐  ┌─────────────────┐  │
│  │ S3 Data Lake │  │  SageMaker   │  │ OHDSI/ATLAS     │  │
│  │ (specimens,  │  │  (AI/ML)     │  │ (cohort builder)│  │
│  │  multi-omics)│  │              │  │                 │  │
│  └──────────────┘  └──────────────┘  └─────────────────┘  │
└───────────────────────────────────────────────────────────┘
```

#### AWS Services Mapping

| BioBank Function | AWS Service | Notes |
|------------------|-------------|-------|
| Specimen metadata | RDS (PostgreSQL) | OpenSpecimen backend |
| Multi-omics storage | S3 | Genomics, proteomics, images |
| Compute | EC2, SageMaker | Analysis workloads |
| Workflow orchestration | Step Functions | Sample processing pipelines |
| API Gateway | API Gateway | FHIR, OpenSpecimen REST |
| Authentication | Cognito | Researcher identity |
| Monitoring | CloudWatch | Temperature alerts, audit logs |
| Cost attribution | Cost Explorer | Per-project billing |

---

### 8. Migration Strategy: caTissue → OpenSpecimen

#### Phase 1: Assessment (Months 1-3)

| Activity | Output |
|----------|--------|
| Current state inventory | Complete sample catalog |
| Data model mapping | caTissue → OpenSpecimen field mapping |
| Customization audit | List of local modifications |
| Integration inventory | API consumers, downstream systems |

#### Phase 2: Platform Deployment (Months 4-6)

| Activity | Output |
|----------|--------|
| OpenSpecimen installation | Cloud or on-prem instance |
| Configuration | Specimen types, collection protocols |
| Plugin development | Dynamic consent, FHIR integration |
| User training | Staff certification |

#### Phase 3: Data Migration (Months 7-9)

| Activity | Output |
|----------|--------|
| Data extraction | Complete caTissue dump |
| Data transformation | OpenSpecimen format |
| Data validation | Reconciliation reports |
| Parallel operation | Dual-run period |

#### Phase 4: Go-Live (Months 10-12)

| Activity | Output |
|----------|--------|
| Cutover | OpenSpecimen as primary |
| Legacy decommission | caTissue archive |
| TRE integration | Zone 1 → Zone 2 linkage |
| Connect Care integration | FHIR API live |

---

### 9. Budget Considerations

Based on B-PREPARED proposal and commercial OpenSpecimen pricing:

| Component | Estimated Cost | Source |
|-----------|----------------|--------|
| OpenSpecimen Enterprise (5-year) | $150,000 - $250,000 | Vendor quote |
| Custom plugin development | $100,000 - $150,000 | Contractor |
| Data migration services | $50,000 - $75,000 | Contractor |
| FHIR integration (Epic) | $75,000 - $100,000 | Epic/contractor |
| Dynamic consent module | $50,000 - $75,000 | Development |
| Staff training | $25,000 - $50,000 | Vendor/internal |
| **Total Software/Integration** | **$450,000 - $700,000** | |

Note: Cold storage equipment is separately budgeted in B-PREPARED ($946K).

---

### 10. Alignment with CTAP Objectives

| Objective | BioBank Modernization Contribution |
|-----------|-----------------------------------|
| **Obj 4: Biorepository** | Core infrastructure for Living Biorepository |
| **Obj 5: Data/AI** | Enables multi-omics + phenotype AI models |
| **Obj 6: Data Linkage** | Connect Care FHIR integration |

---

## Recommended Actions for Suite 2

### Immediate (Pre-RTA)

1. **Vendor engagement**: Contact Krishagni (OpenSpecimen) for demonstration and pricing
2. **Epic liaison**: Confirm FHIR integration pathway with Connect Care team
3. **Remnant sample governance**: Initiate REB consultation on broad consent model

### RTA Phase

4. **Include migration costs**: Add OpenSpecimen migration to Suite 2 budget
5. **Reference UK Biobank RAP**: Position architecture as aligned with international best practice
6. **Highlight TRE integration**: Emphasize three-zone architecture compliance

### Full Application Phase

7. **Detailed architecture diagram**: Create BioBank ↔ TRE ↔ Connect Care integration diagram
8. **Pilot project**: Identify 1-2 existing biobanks for early adoption (IsletCore, ABCC)
9. **Sustainability model**: Define ongoing licensing and support costs

---

## Key References

- [OpenSpecimen Official](https://www.openspecimen.org/)
- [OpenSpecimen GitHub](https://github.com/krishagni/openspecimen)
- [UBC ResTech Biobanking (OpenSpecimen deployment)](https://restech.med.ubc.ca/our-services/biobanking/)
- [UK Biobank Research Analysis Platform](https://www.ukbiobank.ac.uk/enable-your-research/research-analysis-platform)
- [ISO 20387:2018 Biobanking Standard](https://www.iso.org/standard/67888.html)
- [ISBER Best Practices 4th Edition](https://www.isber.org/page/BPR)
- [Dwarna Dynamic Consent Platform](https://github.com/dwarna/dwarna)
- [Epic FHIR Documentation](https://fhir.epic.com/)
- [OHDSI OMOP CDM](https://ohdsi.github.io/CommonDataModel/)
- [AWS for Health](https://aws.amazon.com/health/)
- [DNAnexus UK Biobank Partnership](https://www.dnanexus.com/partner-solutions/uk-biobank)

---

## Status

**New** - Research completed; ready for review and incorporation into Suite 2 documentation.
